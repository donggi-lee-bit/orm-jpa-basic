# orm-jpa-basic
자바 orm 표준 jpa 프로그래밍 강의 레포

# SQL 중심적인 개발의 문제점

데이터베이스 SQL만 알아들을 수 있다.
그러다보니 SQL 중심적인 개발이 되는 것이 문제.

**무한 반복과 지루한 코드**
- 기능을 추가해서 테이블을 하나 만들면
  CRUD 쿼리를 다 짜야한다.
- 그 때마다 Java 객체를 SQL로 바꾸고, SQL을 Java 객체로 바꾸어주어야한다.
- 계속 비슷한 일만 하고 있다는 생각이 들게 됨

예를 들어
- 요구사항이 변경되어서 필드가 추가되면 그에 맞추어 쿼리도 다 수정해야한다.

**패러다임의 불일치**
- 관계형 데이터베이스가 나온 사상과
  객체지향의 사상은 다르다.
- 관계형 데이터베이스는 데이터를 잘 정규화하여 보관하는 게 목표이고,
  객체지향은 속성과 기능, 필드와 메서드를 잘 캡슐화하여 사용하는 게 목표다.

**객체와 관계형 데이터베이스의 차이**
- 객체에는 상속관계가 있으나, 관계형 데이터베이스에는 상속관계가 존재하지 않는다.
  - 상속 관계의 객체를 SQL로 바꾸기 위해서는 상속 클래스, 하위 클래스 두 번의 쿼리를 만들어서 날려줘야한다.
  - DB에서 조회할 때에도 join 쿼리를 만드는 등 조회하는데 복잡함
- 객체는 참조를 가지고 있고, 데이터베이스는 Pk와 fk로 조인을 해서 필요한 데이터를 찾을 수 있다.


**연관관계**
- 객체는 참조를 사용함
  - 객체는 한 방향으로만 참조할 수 있다
- 테이블은 외래 키를 사용한다
  - 테이블은 PK와 FK로 반대로도 참조할 수 있다

**객체지향적으로 설계했을 때 데이터베이스에서 데이터에 접근할 때의 문제점**
- 객체 내부에 객체 필드를 갖고 있어 객체를 통해 내부에 필드로 존재하는 객체에 접근하려고 하면 Join 문을 통해서 여러 과정을 거쳐 접근할 수 있다.
- 객체지향적 설계를 통해 객체가 늘어나게 되면 해당 객체의 데이터를 접근하는 작업은 더 번잡해지게 된다.

이런 객체를 컬렉션으로 관리할 수 있다면 바람직한 설계가 되겠지만 이 상황에서는 객체를 컬렉션으로 관리 할 수 없다.
